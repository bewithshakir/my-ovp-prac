{"version":3,"sources":["ovpApp/data-delegates/componentsearch.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;;IAEA,QACK,OAAO,uBACP,QAAQ,sCAAsC,oCAC9C,IAAI;;;IAGT,SAAS,mCAAmC,cAAc,iBAAiB,eAAe;QACtF,IAAI,SAAS,cAAc;;QAE3B,OAAO,IAAI,aAAa;YACpB,aAAa;YACb,YAAY,OAAO,UAAU,MAAM;gBAC/B,OAAO,KAAK,QAAQ,IAAI,gBAAgB,gBACnC,OAAO;;YAEhB,eAAe;YACf,SAAS,OAAO,UAAU,MAAM;gBAC5B,OAAO,KAAK;;YAEhB,YAAY,OAAO,YAAY;gBAC3B,OAAO,KAAK,WAAW,OAAO,UAAC,GAAG,GAAC;oBAD/B,OACoC,IAAI,EAAE;mBAAY;;;;;IAKtE,SAAS,OAAO,GAAG;QACf,OAAO,QAAQ,UAAU,MAAM,MAAM;;;;IAIzC,SAAS,iBAAiB,oCAAoC,iBAAiB;QAC3E,SAAS,kBAAkB,OAAO;YAC9B,OAAO,MAAM,SAAS;;;QAG1B,gBAAgB,2BAA2B,oCAAoC;;KAElF","file":"ovpApp/data-delegates/componentsearch.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.dataDelegate')\n        .factory('componentsearchViewModelDefinition', componentsearchViewModelDefinition)\n        .run(registerDelegate);\n\n    /* @ngInject */\n    function componentsearchViewModelDefinition(DataDelegate, delegateFactory, delegateUtils) {\n        let cached = delegateUtils.cached;\n\n        return new DataDelegate({\n            queryString: 'name',\n            categories: cached(function (data) {\n                return data.results.map(delegateFactory.createInstance)\n                    .filter(exists);\n            }),\n            numCategories: 'num_results',\n            queryId: cached(function (data) {\n                return data.queryId;\n            }),\n            numResults: cached(function () {\n                return this.categories.reduce((a, b) => a + b.numResults, 0);\n            })\n        });\n    }\n\n    function exists(a) {\n        return angular.isDefined(a) && a !== null;\n    }\n\n    /* @ngInject */\n    function registerDelegate(componentsearchViewModelDefinition, delegateFactory) {\n        function isComponentsearch(asset) {\n            return asset.type === 'componentsearch';\n        }\n\n        delegateFactory.registerDelegateDefinition(componentsearchViewModelDefinition, isComponentsearch);\n    }\n})();\n"],"sourceRoot":"/source/"}