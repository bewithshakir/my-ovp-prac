{"version":3,"sources":["ovpApp/data-delegates/person.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QACK,OAAO,uBACP,QAAQ,6BAA6B;;;IAG1C,SAAS,0BAA0B,cAAc,QAAQ,iBAAiB,eAAe;QACrF,IAAI,SAAS,cAAc;;QAE3B,OAAO,IAAI,aAAa;YACpB,MAAM;YACN,MAAM;YACN,UAAU,OAAO,UAAU,MAAM;gBAC7B,IAAI,KAAK,WAAW;oBAChB,OAAA,QAAa,KAAK;uBACf,IAAI,KAAK,QAAQ,SAAS;oBAC7B,OAAO,KAAK;uBACT;oBACH,OAAO,KAAK;;;YAGpB,YAAY,OAAO,UAAU,MAAM;gBAC/B,IAAI,KAAE;gBACN,IAAI,KAAK,eAAe,KAAK,YAAY,eAAe;oBACpD,KAAK,KAAK,YAAY,cAAc;uBACjC,IAAI,KAAK,eAAe,KAAK,YAAY,eAAe;oBAC3D,KAAK,KAAK,YAAY,cAAc,cAAc;;;gBAGtD,OAAO,CACH,iBACA;oBACI,OAAO,KAAK;oBACZ,aAAa,KAAK;oBAClB,OAAO;oBACP,MAAM,KAAK;;;YAIvB,UAAU,OAAO,cAAc;YAC/B,aAAa;;;KAGpB","file":"ovpApp/data-delegates/person.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.dataDelegate')\n        .factory('personViewModelDefinition', personViewModelDefinition);\n\n    /* @ngInject */\n    function personViewModelDefinition(DataDelegate, config, delegateFactory, delegateUtils) {\n        let cached = delegateUtils.cached;\n\n        return new DataDelegate({\n            name: 'name',\n            role: 'role',\n            roleText: cached(function (data) {\n                if (data.character) {\n                    return `as ${data.character}`;\n                } else if (data.role == 'actor') {\n                    return data.actorType;\n                } else {\n                    return data.role;\n                }\n            }),\n            clickRoute: cached(function (data) {\n                let id;\n                if (this.parentAsset && this.parentAsset.tmsProgramIds) {\n                    id = this.parentAsset.tmsProgramIds[0];\n                } else if (this.parentAsset && this.parentAsset.latestEpisode) {\n                    id = this.parentAsset.latestEpisode.tmsProgramIds[0];\n                }\n\n                return [\n                    'search.person',\n                    {\n                        query: data.name,\n                        tmsPersonId: data.tmsPersonId,\n                        tmsId: id,\n                        role: data.role\n                    }\n                ];\n            }),\n            imageUri: cached(delegateUtils.getPersonImageUri),\n            parentAsset: 'parentAsset'\n        });\n    }\n})();\n"],"sourceRoot":"/source/"}