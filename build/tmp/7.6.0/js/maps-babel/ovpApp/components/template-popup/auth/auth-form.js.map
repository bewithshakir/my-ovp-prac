{"version":3,"sources":["ovpApp/components/template-popup/auth/auth-form.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QAAQ,OAAO,8BAA8B,CACzC,mCACA,2BACA,2CACA,8BACA,iBACA,oBACH,UAAU,YAAY;QACnB,aAAa;QACb,UAAU;YACN,eAAe;;QAEnB,YAAU,CAAA,YAAA;;;;YAEK,SAFG,mBAEF,QAAQ,gBAAgB,yBAChC,mBAAmB,UAAU;gBAA7B,gBAAgB,MAHN;;gBAIV,QAAQ,OAAO,MAAM,EAAC,QAAA,QAAQ,gBAAA,gBAAgB,yBAAA;oBAC1C,mBAAA,mBAAmB,UAAA;;;YAI3B,aATc,oBAAkB,CAAA;gBAU5B,KAAK;gBACL,OAHG,SAAA,UAAG;oBACN,KAAK,oBAAoB;oBACzB,KAAK,iBAAiB,KAAK;oBAC3B,KAAK,gBAAgB,KAAK,SAAS,kBAAkB;oBACrD,KAAK,OAAO;wBACR,UAAU;;;oBAGd,KAAK,YAAY,KAAK,OAAO;oBAC7B,KAAK,kBAAkB,KAAK,SAAS,kBAAkB,YAAY;wBAC/D,YAAY,KAAK,UAAU,QAAQ,MAAM;;;eAM9C;gBACC,KAAK;gBACL,OAHQ,SAAA,eAAG;oBAIP,IAAI,QAAQ;;oBAHhB,KAAK,oBAAoB;oBACzB,IAAM,UAAU,KAAK,wBAAwB,sBAAsB,KAAK,KAAK,UAAU,KAAK,YAAM;wBAC9F,MAAK,cAAc,MAAM,MAAK,KAAK;uBACpC,YAAM;wBACL,MAAK,eAAe,MAAK,kBAAkB,kBAAkB;wBAC7D,MAAK,oBAAoB;;;oBAG7B,KAAK,eAAe,WAAW;;;;YASnC,OAzCc;;;KAoCrB","file":"ovpApp/components/template-popup/auth/auth-form.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular.module('ovpApp.components.authForm', [\n        'ovpApp.components.templatePopup',\n        'ajoslin.promise-tracker',\n        'ovpApp.services.parentalControlsService',\n        'ovpApp.services.errorCodes',\n        'ovpApp.config',\n        'ovpApp.messages'])\n    .component('authForm', {\n        templateUrl: '/js/ovpApp/components/template-popup/auth/auth-form.html',\n        bindings: {\n            modalInstance: '<'\n        },\n        controller: class AuthFormController {\n            /* @ngInject */\n            constructor(config, promiseTracker, parentalControlsService,\n                errorCodesService, messages) {\n                angular.extend(this, {config, promiseTracker, parentalControlsService,\n                    errorCodesService, messages});\n            }\n\n            $onInit() {\n                this.isValidationError = false;\n                this.loadingTracker = this.promiseTracker();\n                this.headerMessage = this.messages.getMessageForCode('MSG-9051');\n                this.user = {\n                    password: ''\n                };\n\n                this.ivrNumber = this.config.forgotPinNumber;\n                this.ivrNumberTelUri = this.messages.getMessageForCode('MSG-9101', {\n                    IVR_NUMBER: this.ivrNumber.replace(/-/g, '')\n                });\n\n            }\n\n            authenticate() {\n                this.isValidationError = false;\n                const promise = this.parentalControlsService.validateAdminPassword(this.user.password).then(() => {\n                    this.modalInstance.close(this.user.password);\n                }, () => {\n                    this.errorMessage = this.errorCodesService.getMessageForCode('WPC-1001');\n                    this.isValidationError = true;\n                });\n\n                this.loadingTracker.addPromise(promise);\n            }\n        }\n    });\n})();\n"],"sourceRoot":"/source/"}