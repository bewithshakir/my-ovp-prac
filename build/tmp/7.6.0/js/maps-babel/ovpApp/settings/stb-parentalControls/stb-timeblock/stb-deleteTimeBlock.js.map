{"version":3,"sources":["ovpApp/settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QAAQ,OAAO,yDAAyD,CACpE,sCACA,kCACA,4BAEH,UAAU,sBAAsB;QAC7B,aAAa;QACb,UAAU;YACN,SAAS;YACT,eAAe;;QAEnB,YAAU,CAAA,YAAA;;;;YAEK,SAFG,mBAEF,oBAAoB,gBAAgB;gBAG5C,gBAAgB,MALN;;gBAGV,QAAQ,OAAO,MAAM,EAAC,oBAAA,oBAAoB,gBAAA;;;YAO9C,aAVc,oBAAkB,CAAA;gBAW5B,KAAK;gBACL,OANG,SAAA,UAAG;oBAOF,IAAI,QAAQ;;oBANhB,KAAK,YAAY;;oBAEjB,KAAK,mBAAmB,gBAAgB,KAAK,UAAA,QAAU;wBACnD,MAAK,YAAY;wBACjB,MAAK,aAAa,OAAO,IAAI,UAAC,GAAG,KAAQ;4BACrC,OAAO;gCACH,OAAO;gCACP,MAAM,EAAE,MAAM,OAAO,EAAE,UAAU,OAAO,QAAQ,QAAQ,EAAE,QAAQ,OAAO;;;;wBAIjF,MAAK,gBAAgB,MAAK,UAAU;;;;oBAIxC,KAAK,0BAA0B;wBAC3B,aAAa;wBACb,UAAU,SAAA,SAAC,OAAU;4BACjB,MAAK,gBAAgB,MAAK,UAAU,MAAM;;wBAE9C,aAAa;wBACb,aAAa;;;eAWlB;gBACC,KAAK;gBACL,OATI,SAAA,WAAG;oBAUH,IAAI,SAAS;;oBATjB,IAAI,KAAK,eAAe;wBACpB,KAAK,mBAAmB,gBAAgB,KAAK,eAAe,KAAK,UAAA,QAAU;4BACvE,OAAK,cAAc,MAAM;2BAC1B,UAAA,KAAO;4BACN,OAAK,cAAc,QAAQ;;;;eAepC;gBACC,KAAK;gBACL,OAZG,SAAA,UAAG;oBACN,KAAK,cAAc;;;;YAgBvB,OA3Dc;;;KA+CrB","file":"ovpApp/settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular.module('ovpApp.settings.stb.parentalControls.timeBlock.delete', [\n        'ovpApp.services.stbSettingsService',\n        'ovpApp.directives.dropdownList',\n        'ovpApp.directives.focus'\n    ])\n    .component('stbDeleteTimeBlock', {\n        templateUrl: '/js/ovpApp/settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.html',\n        bindings: {\n            resolve: '<',\n            modalInstance: '<'\n        },\n        controller: class StbDeleteTimeBlock {\n            /* @ngInject */\n            constructor(StbSettingsService, TIMEBLOCK_DAYS) {\n                angular.extend(this, {StbSettingsService, TIMEBLOCK_DAYS});\n            }\n\n            $onInit() {\n                this.orgBlocks = [];\n\n                this.StbSettingsService.getTimeBlocks().then(blocks => {\n                    this.orgBlocks = blocks;\n                    this.timeBlocks = blocks.map((b, idx) => {\n                        return {\n                            index: idx,\n                            text: b.day + ', ' + b.startTime.format('LT') + ' - ' + b.endTime.format('LT')\n                        };\n                    });\n\n                    this.blockToDelete = this.orgBlocks[0];\n                });\n\n                // Config\n                this.timeBlockDropdownConfig = {\n                    activeIndex: 0,\n                    onSelect: (block) => {\n                        this.blockToDelete = this.orgBlocks[block.index];\n                    },\n                    buttonLabel: 'time block delete',\n                    focusOnLoad: true\n                };\n            }\n\n            onDelete() {\n                if (this.blockToDelete) {\n                    this.StbSettingsService.deleteTimeBlock(this.blockToDelete).then(result => {\n                        this.modalInstance.close(result);\n                    }, err => {\n                        this.modalInstance.dismiss(err);\n                    });\n                }\n            }\n\n            onClose() {\n                this.modalInstance.dismiss();\n            }\n        }\n    });\n})();\n"],"sourceRoot":"/source/"}