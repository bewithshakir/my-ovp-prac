{"version":3,"sources":["ovpApp/buyFlow/welcome.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJ/G,CAAA,YAAY;IACT;IACA,QAAQ,OAAO,0BAA0B,CACrC,mBACA,0BACA,uBACA,4BAEH,UAAU,kBAAkB;QACzB,aAAa;QACb,YAAU,CAAA,YAAA;;;;YAEK,SAFG,yBAEF,UAAU,QAAQ,UAAU,SAAS,WAC7C,QAAQ,YAAY,gBAAgB,eAAe;gBACnD,gBAAgB,MAJN;;gBAIV,QAAQ,OAAO,MAAM,EAAC,UAAA,UAAU,QAAA,QAAQ,UAAA,UAAU,SAAA;oBAC9C,WAAA,WAAW,QAAA,QAAQ,YAAA,YAAY,gBAAA,gBAAgB,eAAA;;;YAKvD,aAVc,0BAAwB,CAAA;gBAWlC,KAAK;gBACL,OAJG,SAAA,UAAG;oBAKF,IAAI,QAAQ;;oBAJhB,KAAK,QAAQ,KAAK,OAAO;oBACzB,KAAK,iBAAiB,KAAK,OAAO,WAAW;oBAC7C,KAAK,eAAe,KAAK,OAAO;oBAChC,KAAK,eAAe,gBAAgB,KAAK,UAAA,QAAS;wBAC9C,MAAK,WAAW,OAAO,GAAG;;;oBAG9B,KAAK,WAAW,WAAW,sBAAsB,KAAK,OAAO;;eAQ9D;gBACC,KAAK;gBACL,OARK,SAAA,YAAG;;oBAER,KAAK,SAAS,CAAA,YAAY;;wBAEtB,QAAQ,QAAQ,uBAAuB,GAAG;uBAC5C,KAAK,OAAO;;eAUf;gBACC,KAAK;gBACL,OAVW,SAAA,gBAAC,SAAS;oBACrB,OAAO,KAAK,cAAc,sBAAsB,QAAQ,OAAO,EAAC,OAAO;;eAYxE;gBACC,KAAK;gBACL,OAZC,SAAA,QAAG;oBACJ,IAAI,CAAC,KAAK,gBAAgB;wBACtB,KAAK,QAAQ,KAAK,KAAK;wBACvB;;;;;oBAKJ,KAAK,WAAW,WAAW,oBAAoB;wBAC3C,UAAU;wBACV,SAAS;wBACT,eAAe;wBACf,iBAAiB;wBACjB,yBAAyB;wBACzB,aAAa;wBACb,eAAe;wBACf,aAAa;wBACb,aAAa;wBACb,oBAAoB;;;oBAGxB,KAAK,OAAO,GAAG;;;;YAgBnB,OAjEc;;;KAqDrB","file":"ovpApp/buyFlow/welcome.js","sourcesContent":["(function () {\n    'use strict';\n    angular.module('ovpApp.buyFlow.welcome', [\n        'ovpApp.messages',\n        'ovpApp.buyFlow.service',\n        'ovpApp.dataDelegate',\n        'ovpApp.directives.focus'\n        ])\n    .component('buyFlowWelcome', {\n        templateUrl: '/js/ovpApp/buyFlow/welcome.html',\n        controller: class BuyFlowWelcomeController {\n            /* @ngInject */\n            constructor(messages, $state, $timeout, $window, $document,\n                config, $rootScope, buyFlowService, delegateUtils) {\n                angular.extend(this, {messages, $state, $timeout, $window,\n                    $document, config, $rootScope, buyFlowService, delegateUtils});\n            }\n\n            $onInit() {\n                this.phone = this.config.streamPlusIvrNumber;\n                this.buyFlowEnabled = this.config.streamPlus.buyFlowEnabled;\n                this.streamBuyUrl = this.config.streamBuyUrl;\n                this.buyFlowService.getBaseOffers().then(result=> {\n                    this.networks = result[0].networks;\n                });\n                // Analytics\n                this.$rootScope.$broadcast('pageChangeComplete', this.$state.current);\n            }\n            $postLink() {\n                // Added timeout to avoid focus issue on Windows 7 + IE\n                this.$timeout(function () {\n                    // Focus should be on the 'Get Started' button.\n                    angular.element('.streamplus-welcome')[0].focus();\n                }.bind(this), 200);\n            }\n            getNetworkIcons(network) {\n                return this.delegateUtils.networkImageFromTmsId(network.tmsId)({width: 96});\n            }\n            start() {\n                if (!this.buyFlowEnabled) {\n                    this.$window.open(this.streamBuyUrl);\n                    return;\n                }\n\n                // Analytics:\n                // Analytics (must happen before popup)\n                this.$rootScope.$broadcast('Analytics:select', {\n                    category: 'navigation',\n                    context: 'stream2',\n                    elementUiName: 'Let\\'s get started',\n                    pageSectionName: 'conversionArea',\n                    elementStandardizedName: 'confirm',\n                    triggeredBy: 'user',\n                    operationType: 'buttonClick',\n                    featureName: 'stream2',\n                    featureType: 'stream2BuyFlow',\n                    featureCurrentStep: 1\n                });\n\n                this.$state.go('buyFlow.offers');\n            }\n        }\n    });\n}());\n"],"sourceRoot":"/source/"}