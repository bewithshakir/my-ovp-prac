{"version":3,"sources":["ovpApp/components/ovp/ovp-channel/ovp-channel.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;IACA,QAAQ,OAAO,iCAAiC,CACxC,iBACA,gCAEH,UAAU,cAAc;QACrB,aAAa;QACb,UAAU;YACN,iBAAiB;YACjB,WAAW;YACX,YAAY;YACZ,UAAU;YACV,aAAa;;QAEjB,YAAU,CAAA,YAAA;;;;YAEK,SAFG,kBAEF,aAAa,gBAAgB,QAAQ;gBAIjD,gBAAgB,MANF;;gBAGV,QAAQ,OAAO,MAAM;oBACjB,aAAA;oBACA,gBAAA;oBACA,QAAA;;;;YASZ,aAfkB,mBAAiB,CAAA;gBAgB/B,KAAK;gBACL,OAPO,SAAA,UAAG;oBACN,KAAK,mBAAmB,oCACpB,KAAK,OAAO,MAAM,cAAc;;eAQzC;gBACC,KAAK;gBACL,OAPM,SAAA,SAAG;oBACL,OAAO,KAAK,gBAAgB;;eASjC;gBACC,KAAK;gBACL,OARU,SAAA,aAAG;oBACT,KAAK;;eAUV;gBACC,KAAK;gBACL,OATc,SAAA,iBAAG;oBACb,IAAI,KAAK,aAAa,KAAK,iBAAiB;wBACxC,KAAK;2BACF,IAAI,KAAK,YAAY;wBACxB,KAAK;;;eAYd;gBACC,KAAK;gBACL,OAVuB,SAAA,0BAAG;oBAWtB,IAAI,QAAQ;;oBAVZ,KAAK,YAAY,wBAAwB,KAAK,iBAAiB,KAAK,WAC/D,KAAK,UAAC,SAAY;wBACf,IAAI,SAAS;4BACT,MAAK,iBAAiB,MAAK,OAAO,YAAY,YAC1C,QAAQ,WAAW,MAAK;4BAC5B,MAAK,WAAW,QAAQ;;;;eAczC;gBACC,KAAK;gBACL,OAXkB,SAAA,qBAAG;oBAYjB,IAAI,SAAS;;oBAXb,KAAK,eAAe,kBAAkB,KAAK,YACtC,KAAK,UAAC,SAAY;wBACf,IAAI,SAAS;4BACT,OAAK,iBAAiB,OAAK,OAAO,YAAY,YAC1C,QAAQ,WAAW,OAAK;4BAC5B,OAAK,WAAW,QAAQ;;;;;;YAiB5C,OAjEkB;;;KAsDzB","file":"ovpApp/components/ovp/ovp-channel/ovp-channel.js","sourcesContent":["(() => {\n    'use strict';\n    angular.module('ovpApp.components.ovp.channel', [\n            'ovpApp.config',\n            'ovpApp.services.epgsService'\n        ])\n        .component('ovpChannel', {\n            templateUrl: '/js/ovpApp/components/ovp/ovp-channel/ovp-channel.html',\n            bindings: {\n                mystroServiceId: '<',\n                channelId: '<',\n                tmsGuideId: '<',\n                callSign: '<',\n                displayType: '@'\n            },\n            controller: class ChannelController {\n                /* @ngInject */\n                constructor(epgsService, ChannelService, config) {\n                    angular.extend(this, {\n                        epgsService,\n                        ChannelService,\n                        config\n                    });\n                }\n\n                $onInit() {\n                    this.imageQueryParams = '?sourceType=colorhybrid&apikey=' +\n                        this.config.oAuth.consumerKey + '&width=35';\n                }\n\n                isList() {\n                    return this.displayType === 'list';\n                }\n\n                $onChanges() {\n                    this.updateChannels();\n                }\n\n                updateChannels() {\n                    if (this.channelId && this.mystroServiceId) {\n                        this.updateByMystroServiceId();\n                    } else if (this.tmsGuideId) {\n                        this.updateByTmsGuideId();\n                    }\n                }\n\n                updateByMystroServiceId() {\n                    this.epgsService.getChannelByMystroSvcId(this.mystroServiceId, this.channelId)\n                        .then((channel) => {\n                            if (channel) {\n                                this.networkLogoUrl = this.config.image_api + '/guide/' +\n                                    channel.callSign + this.imageQueryParams;\n                                this.callSign = channel.callSign;\n                            }\n                        });\n                }\n\n                updateByTmsGuideId() {\n                    this.ChannelService.getChannelByTmsId(this.tmsGuideId)\n                        .then((channel) => {\n                            if (channel) {\n                                this.networkLogoUrl = this.config.image_api + '/guide/' +\n                                    channel.callsign + this.imageQueryParams;\n                                this.callSign = channel.callsign;\n                            }\n                        });\n                }\n            }\n        });\n})();\n"],"sourceRoot":"/source/"}