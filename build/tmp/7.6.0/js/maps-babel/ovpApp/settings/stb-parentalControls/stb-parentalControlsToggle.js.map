{"version":3,"sources":["ovpApp/settings/stb-parentalControls/stb-parentalControlsToggle.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QAAQ,OAAO,+CAA+C,CAC1D,mCACA,sCACA,iCACA,kBACH,UAAU,6BAA6B;QACpC,aAAa;QACb,UAAU;YACN,OAAO;YACP,mBAAmB;;QAEvB,YAAU,CAAA,YAAA;;;;YAEK,SAFG,WAEF,oBAAoB,wBAAwB,yBACpD,QAAQ,IAAI;gBAEZ,gBAAgB,MALN;;gBAIV,QAAQ,OAAO,MAAM,EAAC,oBAAA,oBAAoB,wBAAA,wBAAwB,yBAAA;oBAC9D,QAAA,QAAQ,IAAA;;;YAMhB,aAXc,YAAU,CAAA;gBAYpB,KAAK;gBACL,OALG,SAAA,UAAG;oBACN,KAAK,6BAA6B,KAAK,mBAAmB;oBAC1D,KAAK,WAAW,KAAK,uBAChB,YAAY,KAAK,wBAAwB,cAAc,KAAK;;eAMlE;gBACC,KAAK;gBACL,OALY,SAAA,mBAAG;oBAMX,IAAI,QAAQ;;oBALhB,IAAI,KAAK,4BAA4B;wBACjC,OAAO,KAAK,SAAS,SAAS,KAAK,YAAM;4BACrC,MAAK,6BAA6B,CAAC,MAAK;;2BAEzC;wBACH,KAAK,6BAA6B,CAAC,KAAK;wBACxC,OAAO,KAAK,eAAe,KAAK,4BAA2B,SAAO,UAAC,KAAQ;;4BAEvE,MAAK,6BAA6B,CAAC,MAAK;4BACxC,OAAO,MAAK,GAAG,OAAO;;;;;;eAa/B;gBACC,KAAK;gBACL,OATU,SAAA,eAAC,SAAS;oBACpB,OAAO,KAAK,mBAAmB,iBAAiB,KAAK,KAAK;;;;YAa9D,OA5Cc;;;KAmCrB","file":"ovpApp/settings/stb-parentalControls/stb-parentalControlsToggle.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular.module('ovpApp.settings.stb.parentalControls.toggle', [\n        'ovpApp.components.ovp.ovpSwitch',\n        'ovpApp.services.stbSettingsService',\n        'ovpApp.parentalControlsDialog',\n        'ovpApp.config'])\n    .component('stbParentalControlsToggle', {\n        templateUrl: '/js/ovpApp/settings/stb-parentalControls/stb-parentalControlsToggle.html',\n        bindings: {\n            'stb': '<',\n            'blockingEnabled': '<'\n        },\n        controller: class StbPCBlock {\n            /* @ngInject */\n            constructor(StbSettingsService, parentalControlsDialog, parentalControlsContext,\n                config, $q) {\n                angular.extend(this, {StbSettingsService, parentalControlsDialog, parentalControlsContext,\n                    config, $q});\n            }\n\n            $onInit() {\n                this.pcBlockingEnabledForClient = this.blockingEnabled || false;\n                this.pcDialog = this.parentalControlsDialog\n                    .withContext(this.parentalControlsContext.STB_SETTINGS, this.stb);\n            }\n\n            togglePCBlocking() {\n                if (this.pcBlockingEnabledForClient) {\n                    return this.pcDialog.unlock().then(() => {\n                        this.pcBlockingEnabledForClient = !this.pcBlockingEnabledForClient;\n                    });\n                } else {\n                    this.pcBlockingEnabledForClient = !this.pcBlockingEnabledForClient;\n                    return this._setPCBlocking(this.pcBlockingEnabledForClient).catch((err) => {\n                        // Reset settings\n                        this.pcBlockingEnabledForClient = !this.pcBlockingEnabledForClient;\n                        return this.$q.reject(err);\n                    });\n                }\n            }\n\n            /* Private method */\n            _setPCBlocking(eanbled) {\n                return this.StbSettingsService.togglePCBlocking(this.stb, eanbled);\n            }\n        }\n    });\n})();\n"],"sourceRoot":"/source/"}