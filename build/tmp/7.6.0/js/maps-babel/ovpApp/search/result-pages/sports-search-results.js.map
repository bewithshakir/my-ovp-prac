{"version":3,"sources":["ovpApp/search/result-pages/sports-search-results.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QACK,OAAO,+BAA+B,CACnC,8BACA,sCACA,6BAEH,UAAU,uBAAuB;QAC9B,aAAa;QACb,UAAU;YACN,OAAO;YACP,SAAS;YACT,OAAO;;QAEX,YAAU,CAAA,YAAA;;;;YAEK,SAFG,8BAEF,QAAQ,YAAY;gBAEhC,gBAAgB,MAJF;;gBAGV,KAAK,SAAS;gBACd,KAAK,aAAa;;;YAM1B,aAVkB,+BAA6B,CAAA;gBAW3C,KAAK;gBACL,OALO,SAAA,UAAG;oBACN,KAAK,SAAS;wBACV,YAAY;;oBAEhB,KAAK;oBACL,KAAK,cAAc,KAAK,OAAO,QAAQ,KAAK,WAAW,aACnD,KAAK,OAAO,YAAY,KAAK,OAAO,SAAS,KAAK,WAAW;;oBAEjE,KAAK,WAAW,WAAW,sBAAsB,KAAK,OAAO;;eAMlE;gBACC,KAAK;gBACL,OALe,SAAA,kBAAG;oBACd,IAAI,aAAa,CAAC;wBACd,OAAO;wBACP,UAAU;uBACX;wBACC,OAAO;wBACP,UAAU;uBACX;wBACC,OAAO;wBACP,UAAU;;;oBAGd,KAAK,QAAQ,QAAQ,UAAC,iBAAoB;wBACtC,IAAI,MAAM,gBAAgB;wBAC1B,IAAI,MAAM,KAAK;wBACf,IAAI,OAAO,kBACN,gBAAgB,UACb,OAAO,gBAAgB,wBAAwB,QAC/C,MAAM,gBAAgB,sBAAsB,MAAO;4BACvD,WAAW,GAAG,SAAS,KAAK;+BACzB,IAAI,OAAO,kBAAkB;4BAChC,WAAW,GAAG,SAAS,KAAK;+BACzB;4BACH,WAAW,GAAG,SAAS,KAAK;;;;oBAIpC,KAAK,SAAS;wBACV,YAAY,WAAW,OAAO,UAAA,KAAG;4BAG7B,OAHiC,IAAI,SAAS,SAAS;;;oBAE/D,KAAK,OAAO,WAAW,QAAQ,UAAC,SAAS,OAAU;wBAC/C,QAAQ,aAAa,UAAU;;;;;YAS3C,OA1DkB;;;KAsDzB","file":"ovpApp/search/result-pages/sports-search-results.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular\n        .module('ovpApp.search.sportsResults', [\n            'ovpApp.directives.gridList',\n            'ovpApp.search.sportsResultListItem',\n            'ovpApp.filters.titleCase'\n        ])\n        .component('sportsSearchResults', {\n            templateUrl: '/js/ovpApp/search/result-pages/sports-search-results.html',\n            bindings: {\n                query: '<',\n                results: '<',\n                index: '<'\n            },\n            controller: class SportsSearchResultsController {\n                /* @ngInject */\n                constructor($state, $rootScope) {\n                    this.$state = $state;\n                    this.$rootScope = $rootScope;\n                }\n\n                $onInit() {\n                    this.layout = {\n                        categories: []\n                    };\n                    this.calculateLayout();\n                    this.focusOnLoad = this.$state.current.name.startsWith('search') &&\n                        this.$state.previous && this.$state.previous.name.startsWith('search');\n\n                    this.$rootScope.$broadcast('pageChangeComplete', this.$state.current);\n                }\n\n                calculateLayout() {\n                    let categories = [{\n                        title: 'Games On Now',\n                        programs: []\n                    }, {\n                        title: 'Games On Later',\n                        programs: []\n                    }, {\n                        title: 'Other',\n                        programs: []\n                    }];\n\n                    this.results.forEach((programOrSeries) => {\n                        let cat = programOrSeries.sportsCategory;\n                        let now = Date.now();\n                        if (cat == 'Games On Now' ||\n                            (programOrSeries.isLive &&\n                                now >= programOrSeries.scheduledStartTimeSec * 1000 &&\n                                now < programOrSeries.scheduledEndTimeSec * 1000)) {\n                            categories[0].programs.push(programOrSeries);\n                        } else if (cat == 'Games On Later') {\n                            categories[1].programs.push(programOrSeries);\n                        } else {\n                            categories[2].programs.push(programOrSeries);\n                        }\n                    });\n\n                    this.layout = {\n                        categories: categories.filter(cat => cat.programs.length > 0)\n                    };\n                    this.layout.categories.forEach((element, index) => {\n                        element.showToggle = index === 0;\n                    });\n                }\n            }\n        });\n})();\n"],"sourceRoot":"/source/"}