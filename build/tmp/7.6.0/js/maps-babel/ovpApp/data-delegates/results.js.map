{"version":3,"sources":["ovpApp/data-delegates/results.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;;IAEA,QACK,OAAO,uBACP,QAAQ,8BAA8B,4BACtC,IAAI;;;;;;;;;IAST,SAAS,2BAA2B,cAAc,iBAAiB,eAAe;QAC9E,IAAI,SAAS,cAAc;;QAE3B,OAAO,IAAI,aACP,QAAQ,OAAO,IAAI,cAAc,sBAAsB;YACnD,MAAM,OAAO,UAAU,MAAM;gBACzB,IAAI,KAAK,iBAAiB,UAAU;oBAChC,OAAO,KAAK;;;YAGpB,eAAe;YACf,YAAY,OAAO,UAAU,MAAM;;;;;;;;;;gBAU/B,IAAI,CAAC,UAAU,QAAQ,UAAU,SAAS,KAAK,gBAAgB;oBAC3D,IAAI,UAAO,YAAa,KAAK,cAAc;oBAC3C,IAAI,WAAW,EAAC,OAAO,KAAK,mBAAmB,KAAK,KAAK;oBACzD,OAAO,CAAC,SAAS;;;YAGzB,UAAU,OAAO,UAAU,MAAM;gBAC7B,IAAI,KAAK,kBAAkB,UAAU;oBACjC,OAAO,cAAc,6BAA6B;uBAC/C;oBACH,OAAO,cAAc,kBAAkB;;;;;;;IAQ3D,SAAS,iBAAiB,4BAA4B,iBAAiB;QACnE,SAAS,UAAU,OAAO;YACtB,OAAO,MAAM,eAAe;;;QAGhC,gBAAgB,2BAA2B,4BAA4B;;KAE1E","file":"ovpApp/data-delegates/results.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.dataDelegate')\n        .factory('resultsViewModelDefinition', resultsViewModelDefinition)\n        .run(registerDelegate);\n\n    /**\n     * \"Series\" objects are used in search to represent a series. Not to be confused\n     * with \"Episode-list\" objects, which also represent a series but are mostly\n     * used in a non-search context.\n     */\n\n    /* @ngInject */\n    function resultsViewModelDefinition(DataDelegate, delegateFactory, delegateUtils) {\n        let cached = delegateUtils.cached;\n\n        return new DataDelegate(\n            angular.extend({}, delegateUtils.standardSearchParams, {\n                name: cached(function (data) {\n                    if (data.resultDisplay == 'Person') {\n                        return data.searchStringMatch;\n                    }\n                }),\n                resultDisplay: 'resultDisplay',\n                clickRoute: cached(function (data) {\n                    // TODO: Analytics Event\n                    // $rootScope.$emit('EG:searchResultSelected', {\n                    //     type: data.resultType,\n                    //     facet: data.resultEnum,\n                    //     title: data.searchStringMatch,\n                    //     searchStringMatch: data.searchStringMatch,\n                    //     tmsProgramId: data.tmsProgramId\n                    // });\n\n                    if (['Person', 'Team', 'Sports'].includes(data.resultDisplay)) {\n                        let toState = `search.${data.resultDisplay.toLowerCase()}`;\n                        let toParams = {query: data.searchStringMatch, uri: data.uri};\n                        return [toState, toParams];\n                    }\n                }),\n                imageUri: cached(function (data) {\n                    if (data.resultDisplay !== 'Person') {\n                        return delegateUtils.createProductImageFunction()(data);\n                    } else {\n                        return delegateUtils.getPersonImageUri(data);\n                    }\n                })\n            }));\n    }\n\n\n    /* @ngInject */\n    function registerDelegate(resultsViewModelDefinition, delegateFactory) {\n        function isResults(asset) {\n            return asset.resultType === 'results';\n        }\n\n        delegateFactory.registerDelegateDefinition(resultsViewModelDefinition, isResults);\n    }\n})();\n"],"sourceRoot":"/source/"}