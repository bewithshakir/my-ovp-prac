{"version":3,"sources":["ovpApp/data-delegates/media-list.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;;IAEA,QACK,OAAO,uBACP,QAAQ,gCAAgC,8BACxC,IAAI;;;IAGT,SAAS,6BAA6B,cAAc,iBAAiB,eAAe,qBAAqB;QACrG,IAAI,SAAS,cAAc;;QAE3B,OAAO,IAAI,aAAa;YACpB,MAAM;YACN,oBAAoB;YACpB,SAAS;YACT,OAAO,OAAO,UAAU,MAAM;gBAC1B,IAAI,QAAQ;gBACZ,IAAI,KAAK,SAAS,KAAK,MAAM,SAAS;oBAClC,QAAQ,KAAK,MAAM;uBAChB,IAAI,KAAK,OAAO;oBACnB,QAAQ,KAAK;uBACV,IAAI,KAAK,SAAS;oBACrB,QAAQ,KAAK;;;gBAGjB,OAAO,MAAM,IAAI,gBAAgB;;YAErC,MAAM;YACN,yBAAyB;YACzB,QAAQ;YACR,KAAK;YACL,cAAc,SAAA,aAAU,MAAM;gBAC1B,OAAO,KAAK,iBAAiB,KAAK,MAAM;;YAE5C,UAAU,OAAO,cAAc;YAC/B,YAAY,cAAc,cAAc,UAAU,MAAM;gBACpD,IAAI,KAAK,aAAa,aAAc,KAAK,WAAW,KAAK,QAAQ,aAAa,WAAY;oBACtF,OAAO,KAAK,YAAY,KAAK,QAAQ;uBAClC,IAAI,QAAQ,UAAU,KAAK,oBAAoB;oBAClD,OAAO,oBAAoB,qBAAqB,KAAK;uBAClD;oBACH,OAAO;;;;;;;IAOvB,SAAS,iBAAiB,8BAA8B,iBAAiB;QACrE,SAAS,YAAY,OAAO;YACxB,OAAO,MAAM,SAAS;;;QAG1B,gBAAgB,2BAA2B,8BAA8B;;KAE5E","file":"ovpApp/data-delegates/media-list.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.dataDelegate')\n        .factory('mediaListViewModelDefinition', mediaListViewModelDefinition)\n        .run(registerDelegate);\n\n    /* @ngInject */\n    function mediaListViewModelDefinition(DataDelegate, delegateFactory, delegateUtils, EntitlementsService) {\n        let cached = delegateUtils.cached;\n\n        return new DataDelegate({\n            type: 'type',\n            availableOutOfHome: 'availableOutOfHome',\n            context: 'context',\n            media: cached(function (data) {\n                let media = [];\n                if (data.media && data.media.results) {\n                    media = data.media.results;\n                } else if (data.media) {\n                    media = data.media;\n                } else if (data.results) {\n                    media = data.results;\n                }\n\n                return media.map(delegateFactory.createInstance);\n            }),\n            name: 'name',\n            twcTvNetworkDisplayMode: 'twcTvNetworkDisplayMode',\n            uiHint: 'uiHint',\n            uri: 'uri',\n            totalResults: function (data) {\n                return data.total_results || this.media.length;\n            },\n            imageUri: cached(delegateUtils.createProductImageFunction()),\n            isEntitled: delegateUtils.promiseCached(function (data) {\n                if (data.entitled !== undefined || (data.details && data.details.entitled !== undefined)) {\n                    return data.entitled || data.details.entitled;\n                } else if (angular.isDefined(data.product_providers)) {\n                    return EntitlementsService.isVodNetworkEntitled(data.product_providers);\n                } else {\n                    return true;\n                }\n            })\n        });\n    }\n\n    /* @ngInject */\n    function registerDelegate(mediaListViewModelDefinition, delegateFactory) {\n        function isMediaList(asset) {\n            return asset.type === 'media_list';\n        }\n\n        delegateFactory.registerDelegateDefinition(mediaListViewModelDefinition, isMediaList);\n    }\n})();\n"],"sourceRoot":"/source/"}