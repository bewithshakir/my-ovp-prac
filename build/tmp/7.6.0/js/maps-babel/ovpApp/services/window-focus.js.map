{"version":3,"sources":["ovpApp/services/window-focus.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QACK,OAAO,+BAA+B,IACtC,QAAQ,eAAe;;;IAG5B,SAAS,YAAY,SAAS,UAAU;QACpC,IAAI,QAAQ;;QAEZ,IAAM,UAAU;YACZ,oBAAA;;;QAGJ;;QAEA,OAAO;;;;QAIP,SAAS,WAAW;YAChB,QAAQ,QAAQ,SAAS,GAAG,SAAS,YAAY;gBAC7C,QAAQ;gBACR,SAAS,YAAY;;oBAEjB,QAAQ;mBACT,GAAG;;;;;;;;;;QAUd,SAAS,qBAAqB;YAC1B,OAAO;;;KAGd","file":"ovpApp/services/window-focus.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.services.windowFocus', [])\n        .factory('windowFocus', windowFocus);\n\n    /* @ngInject */\n    function windowFocus($window, $timeout) {\n        let state = false;\n\n        const service = {\n            windowJustGotFocus\n        };\n\n        activate();\n\n        return service;\n\n        ////////////////\n\n        function activate() {\n            angular.element($window).on('focus', function () {\n                state = true;\n                $timeout(function () {\n                    // Clear the flag once the current event loop is complete\n                    state = false;\n                }, 0, false);\n            });\n        }\n\n        /**\n         * Returns true if the window just received a focus event a moment ago.\n         *\n         * This can be used to distinguish between focus events that occur due to a\n         * browser tab becoming active, and ones that occur due to other user activity\n         */\n        function windowJustGotFocus() {\n            return state;\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}