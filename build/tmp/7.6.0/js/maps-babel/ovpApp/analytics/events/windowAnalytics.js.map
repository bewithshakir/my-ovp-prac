{"version":3,"sources":["ovpApp/analytics/events/windowAnalytics.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QAAQ,OAAO,2CAA2C,CACtD,iBACA,qCACA,OAEH,QAAQ,mBAAmB,iBAC3B,wBAAI,SAAS,YAAY,iBAAiB;QACnC,OAAO;;;;IAIf,SAAS,gBAAgB,YAAY,kBAAkB,UAAU,SAAS,IAAI,MAAM;;;;;QAKhF,SAAS,SAAS;YACd,IAAI;gBACA,IAAI,YAAY;oBACZ,kBAAkB,QAAQ,aAAa,MAAM,QAAQ;;;;gBAIzD,iBAAiB,MAAM,iBAAiB;cAE5C,OAAO,IAAI;gBACP,KAAK,MAAM,8BAA8B;;;;;;;QAOjD,SAAS,uBAAuB;YAC5B,IAAI;gBACA,GAAG,WAAW,UAAU,SAAS,UAC5B,SAAS,KACT,UAAU,YAAM;;;oBAGb,OAAO;wBACH,OAAO,QAAQ;wBACf,QAAQ,QAAQ;;;cAIhC,OAAO,IAAI;gBACP,KAAK,MAAM,8BAA8B;;;;;QAKjD;;QAEA,OAAO;YACH,QAAA;;;KAGP","file":"ovpApp/analytics/events/windowAnalytics.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('ovpApp.analytics.events.windowAnalytics', [\n        'ovpApp.config',\n        'ovpApp.analytics.analyticsService',\n        'rx'\n    ])\n    .factory('windowAnalytics', windowAnalytics)\n    .run(function loadHandler(windowAnalytics) {\n            return windowAnalytics;\n        });\n\n    /* @ngInject */\n    function windowAnalytics($rootScope, analyticsService, deviceid, $window, rx, $log) {\n\n        /**\n         * Window resize handler.\n         */\n        function resize() {\n            try {\n                let eventData = {\n                    screenResolution: $window.innerWidth + 'x' + $window.innerHeight\n                };\n\n                // Send event.\n                analyticsService.event('displayChange', eventData);\n            }\n            catch (ex) {\n                $log.error('Analytics windowAnalytics:', ex);\n            }\n        }\n\n        /**\n         * Function for attaching all navigation event listeners.\n         */\n        function attachEventListeners() {\n            try {\n                rx.Observable.fromEvent($window, 'resize')\n                    .debounce(500)\n                    .subscribe(() => {\n                        // $log.debug('Analytics: OBS-winsize - dims: ',\n                        //     $window.innerWidth, $window.innerHeight);\n                        resize({\n                            width: $window.innerWidth,\n                            height: $window.innerHeight\n                        });\n                    });\n            }\n            catch (ex) {\n                $log.error('Analytics windowAnalytics:', ex);\n            }\n        }\n\n        // Now attach the event listeners.\n        attachEventListeners();\n\n        return {\n            resize\n        };\n    }\n}());\n"],"sourceRoot":"/source/"}