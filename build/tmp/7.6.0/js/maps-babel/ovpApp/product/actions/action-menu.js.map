{"version":3,"sources":["ovpApp/product/actions/action-menu.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;IACA,QACK,OAAO,6BAA6B,CACjC,4BACA,yBACA,wCAEH,UAAU,cAAc;;;;+EAG7B,SAAS,aAAa;QAClB,IAAI,YAAY;YACZ,UAAU;YACV,OAAO;gBACH,SAAS;gBACT,OAAO;;YAEX,aAAa;YACb,YAAY;YACZ,MAAM,SAAA,KAAU,QAAQ,UAAU;gBAC9B,SAAS,GAAG,SAAS,eAAe,gBAAgB;gBACpD,SAAS,GAAG,cAAc,eAAe,gBAAgB;;gBAEzD,SAAS,gBAAgB,UAAU;oBAC/B,OAAO,UAAU,GAAG;wBAChB,IAAI,EAAE,eAAe;4BACjB,IAAI,SAAS,QAAQ,QAAQ,EAAE;4BAC/B,IAAI,cAAc,OAAO;4BACzB,IAAI,YAAY,MAAM;gCAClB,OAAO,cAAc,YAAY;gCACjC,OAAO;gCACP,OAAO,IAAI,UAAU;gCACrB,OAAO,GAAG,UAAU,EAAC,aAAa,eAAc;;;;;;gBAMhE,SAAS,gBAAgB,IAAI;oBACzB,IAAI,OAAO,gBAAgB,GAAG,KAAK,YAAY,MAAM;wBACjD,OAAO,cAAc;wBACrB,OAAO;;;;;;QAMvB,OAAO;;;QAGP,SAAS,qBAAqB,QAAQ,sBAAsB;YACxD,OAAO,iBAAiB;gBACpB,iBAAiB;gBACjB,WAAW;;;YAGf,OAAO,cAAc;;YAErB,OAAO,eAAe,YAAY;gBAC9B,IAAI,OAAO,OAAO,eACd,qBAAqB,mBAAmB,OAAO,OAAO,OAAO;gBACjE,OAAO,QAAQ;;;;KAI1B","file":"ovpApp/product/actions/action-menu.js","sourcesContent":["(function () {\n    'use strict';\n    angular\n        .module('ovpApp.product.actionMenu', [\n            'ovpApp.services.bookmark',\n            'ovpApp.product.button',\n            'ovpApp.product.productActionService'\n        ])\n        .directive('actionMenu', ActionMenu);\n\n    /* @ngInject */\n    function ActionMenu() {\n        let directive = {\n            restrict: 'E',\n            scope: {\n                actions: '=',\n                asset: '='\n            },\n            templateUrl: '/js/ovpApp/product/actions/action-menu.html',\n            controller: ActionMenuController,\n            link: function ($scope, $element) {\n                $element.on('focus', '.hoverwatch', updateHoverText('blur'));\n                $element.on('mouseenter', '.hoverwatch', updateHoverText('mouseleave'));\n\n                function updateHoverText(endEvent) {\n                    return function (e) {\n                        if (e.currentTarget) {\n                            let target = angular.element(e.currentTarget);\n                            let buttonScope = target.scope();\n                            if (buttonScope.item) {\n                                $scope.hoveredItem = buttonScope.item;\n                                $scope.$applyAsync();\n                                target.off(endEvent, endEventHandler);\n                                target.on(endEvent, {buttonScope: buttonScope}, endEventHandler);\n                            }\n                        }\n                    };\n                }\n\n                function endEventHandler(ev) {\n                    if ($scope.hoveredItem === ev.data.buttonScope.item) {\n                        $scope.hoveredItem = undefined;\n                        $scope.$applyAsync();\n                    }\n                }\n            }\n        };\n\n        return directive;\n\n        /* @ngInject */\n        function ActionMenuController($scope, productActionService) {\n            $scope.carouselConfig = {\n                showReturnArrow: false,\n                useArrows: false\n            };\n\n            $scope.hoveredItem = undefined;\n\n            $scope.getHoverText = function () {\n                let text = $scope.hoveredItem &&\n                    productActionService.getActionHoverText($scope.asset, $scope.hoveredItem);\n                return text || '';\n            };\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}