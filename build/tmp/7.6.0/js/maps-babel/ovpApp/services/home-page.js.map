{"version":3,"sources":["ovpApp/services/home-page.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,iBAAiB,CAAC,YAAY,EAAE,SAAS,cAAc,KAAK,GAAG,EAAE,IAAI,OAAO,IAAI,IAAI,KAAK,MAAM,IAAI,KAAK,OAAO,IAAI,KAAK,WAAW,IAAI,EAAE,KAAK,IAAI,KAAK,IAAI,OAAO,aAAa,IAAI,EAAE,KAAK,CAAC,KAAK,GAAG,QAAQ,OAAO,KAAK,MAAM,EAAE,KAAK,KAAK,GAAG,QAAQ,IAAI,KAAK,KAAK,WAAW,GAAG,WAAW,OAAO,KAAK,EAAE,KAAK,MAAM,KAAK,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,WAAW,GAAG,uBAAuB,EAAE,IAAI,IAAI,MAAM,QAAQ,OAAO,QAAQ,OAAO,UAAU,KAAK,GAAG,EAAE,IAAI,MAAM,QAAQ,MAAM,EAAE,OAAO,YAAY,IAAI,OAAO,YAAY,OAAO,MAAM,EAAE,OAAO,cAAc,KAAK,WAAW,EAAE,MAAM,IAAI,UAAU;;AAFvlB,CAAC,YAAY;IACT;;;IAEA,QACK,OAAO,4BAA4B,CAChC,yBACA,2BACA,kCACA,oBAEH,QAAQ,YAAY;;;IAGzB,SAAS,SAAS,QAAQ,cAAc,gBAAgB,IAAI,QAAQ;QAChE,IAAI,UAAO;;QAEX,OAAO;;;;QAIP,SAAS,cAAc;YACnB,IAAI,CAAC,SAAS;gBACV,UAAU,GAAG,IAAI,CAAC,aAAa,qBAAqB,eAAe,kBAC9D,KAAK,UAAC,MAA8B;oBAHrC,IAAI,QAAQ,eAGL,MAAyB;;oBADhC,IACQ,WAAQ,MAAA;oBAAhB,IAAkB,gBAAa,MAAA;;oBAC3B,OAAO,OAAO,IAAI,OAAO,SAAS,SAAS,YACvC;wBACI,iBAAiB;wBACjB,iBAAiB;;;;wBAIjB,QAAQ;4BACJ,aAAa,gBAAgB,OAAO;4BACpC,KAAK,gBAAgB,QAAQ;4BAC7B,YAAY;4BACZ,eAAe;4BACf,eAAe;4BACf,WAAW;4BACX,UAAU;4BACV,WAAW;;uBAGlB,MAAM,GACN,IAAI,UAAA,UAAQ;wBADjB,OACqB,SAAS,KAAK;uBAC9B,UAAU;mBAChB,UAAC,KAAQ;oBACR,UAAU;oBACV,GAAG,OAAO;;;YAGtB,OAAO;;;KAGd","file":"ovpApp/services/home-page.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.services.homePage', [\n            'ovpApp.services.entry',\n            'ovpApp.services.rxUtils',\n            'ovpApp.services.profileService',\n            'ovpApp.messages'\n        ])\n        .factory('homePage', homePage);\n\n    /* @ngInject */\n    function homePage(rxhttp, entryService, profileService, $q, config) {\n        let promise;\n\n        return getHomePage;\n\n        ////////////////\n\n        function getHomePage() {\n            if (!promise) {\n                promise = $q.all([entryService.forDefaultProfile(), profileService.isCdvrEnabled()])\n                    .then(([services, isCdvrEnabled]) => {\n                        return rxhttp.get(config.piHost + services.homePage(),\n                            {\n                                withCredentials: true,\n                                ignoreNNSParams: true,\n                                // Added these default parameters to get all possible menu items\n                                // Use capability to show / hide menu items\n                                // This api is used to get the menu item names and it's sequence\n                                params: {\n                                    cdvrEnabled: isCdvrEnabled ? true : false,\n                                    dvr: isCdvrEnabled ? false : true,\n                                    dvrManager: true,\n                                    tuneToChannel: true,\n                                    watchOnDemand: true,\n                                    watchLive: true,\n                                    tvodRent: true,\n                                    tvodWatch: true\n                                }\n                            })\n                            .retry(3)\n                            .map(response => response.data.results)\n                            .toPromise($q);\n                    }, (err) => {\n                        promise = null;\n                        $q.reject(err);\n                    });\n            }\n            return promise;\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}