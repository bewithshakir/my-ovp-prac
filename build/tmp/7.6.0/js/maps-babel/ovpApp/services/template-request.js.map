{"version":3,"sources":["ovpApp/services/template-request.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QAAQ,OAAO,mCAAmC;;;;;KAKjD,QAAQ,mBAAmB;;IAE5B,SAAS,gBAAgB,OAAO,UAAU,IAAI,gBAAgB;QAC1D,IAAI,qBAAqB;QACzB,OAAO,UAAU,cAAc;;YAE3B,IAAI,QAAQ,GAAG;;YAEf,IAAI,QAAQ,YAAY,eAAe,IAAI,gBAAgB;;gBAEvD,IAAI,gBAAgB,oBAAoB;oBACpC,OAAO,mBAAmB;uBACvB;oBACH,mBAAmB,gBAAgB,MAAM;oBACzC,MAAM;wBACF,QAAQ;wBACR,KAAK;uBACN,KAAK,UAAU,UAAU;wBACxB,IAAI,OAAO,SAAS;wBACpB,eAAe,IAAI,cAAc;wBACjC,MAAM,QAAQ,SAAS;uBACxB,YAAY;wBACX,MAAM;uBACR,WACO,YAAY;wBACjB,OAAO,mBAAmB;;;mBAG/B;gBACH,MAAM,QAAQ,SAAS,eAAe,IAAI;;;YAG9C,OAAO,MAAM;;;KAIpB","file":"ovpApp/services/template-request.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('ovpApp.services.templateRequest', [])\n\n    // This is a place holder for the $templateRequest that is to be\n    // released in version 1.3 of angular.\n    // TODO: we now have angular 1.4+. I assume this file is now obsolete?\n    .factory('templateRequest', templateRequest);\n\n    function templateRequest($http, $compile, $q, $templateCache) {\n        let inProgressRequests = {};\n        return function (templateName) {\n\n            let defer = $q.defer();\n\n            if (angular.isUndefined($templateCache.get(templateName))) {\n\n                if (templateName in inProgressRequests) {\n                    return inProgressRequests[templateName];\n                } else {\n                    inProgressRequests[templateName] = defer.promise;\n                    $http({\n                        method: 'GET',\n                        url: templateName\n                    }).then(function (response) {\n                        var data = response.data;\n                        $templateCache.put(templateName, data);\n                        defer.resolve($compile(data));\n                    }, function () {\n                        defer.reject();\n                    })\n                    .finally(function () {\n                        delete inProgressRequests[templateName];\n                    });\n                }\n            } else {\n                defer.resolve($compile($templateCache.get(templateName)));\n            }\n\n            return defer.promise;\n\n        };\n    }\n}());\n"],"sourceRoot":"/source/"}