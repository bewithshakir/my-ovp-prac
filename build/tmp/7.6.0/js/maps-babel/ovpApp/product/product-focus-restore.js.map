{"version":3,"sources":["ovpApp/product/product-focus-restore.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QACK,OAAO,+BAA+B,IACtC,QAAQ,uBAAuB;;;IAGpC,SAAS,oBAAoB,WAAW,QAAQ,cAAc;QAC1D,IAAM,UAAU;YACZ,UAAA;YACA,UAAA;;;QAGJ,IAAI,eAAe;QACnB,OAAO;;;;QAIP,SAAS,WAAW;YAChB,IAAI,YAAY;gBACZ,OAAO,aAAa,MAAM;;;;QAIlC,SAAS,SAAS,OAAO;YACrB,aAAa,KAAK;gBACd,OAAO,OAAO,QAAQ;gBACtB,QAAQ,QAAQ,KAAK;gBACrB,OAAO;;;;QAIf,SAAS,WAAW;YAChB,IAAI,OAAO,aAAa,aAAa,SAAS;YAC9C,OAAO,QAAQ,KAAK,UAAU,OAAO,QAAQ,QAAQ,QAAQ,OAAO,KAAK,QAAQ;;;KAGxF","file":"ovpApp/product/product-focus-restore.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.product.focusRestore', [])\n        .factory('productFocusRestore', productFocusRestore);\n\n    /* @ngInject */\n    function productFocusRestore($document, $state, $stateParams) {\n        const service = {\n            getIndex,\n            setIndex\n        };\n\n        let focusHistory = [];\n        return service;\n\n        ////////////////\n\n        function getIndex() {\n            if (wentBack()) {\n                return focusHistory.pop().index;\n            }\n        }\n\n        function setIndex(index) {\n            focusHistory.push({\n                state: $state.current.name,\n                params: angular.copy($stateParams),\n                index: index\n            });\n        }\n\n        function wentBack() {\n            let last = focusHistory[focusHistory.length - 1];\n            return last && last.state === $state.current.name && angular.equals(last.params, $stateParams);\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}