{"version":3,"sources":["ovpApp/settings/stb-parentalControls/stb-contentBlock.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QAAQ,OAAO,qDAAqD,CAChE,mCACA,sCACA,+BAEH,UAAU,mBAAmB;QAC1B,aAAa;QACb,UAAU;YACN,OAAO;YACP,kBAAkB;YAClB,gBAAgB;;QAEpB,YAAU,CAAA,YAAA;;;;YAEK,SAFG,gBAEF,oBAAoB;gBAG5B,gBAAgB,MALN;;gBAGV,QAAQ,OAAO,MAAM,EAAC,oBAAA;;;YAO1B,aAVc,iBAAe,CAAA;gBAWzB,KAAK;gBACL,OANG,SAAA,UAAG;oBACN,KAAK,eAAe;oBACpB,KAAK,iBAAiB,KAAK,kBAAkB;;eAQ9C;gBACC,KAAK;gBACL,OAPU,SAAA,eAAC,SAAS;oBAQhB,IAAI,QAAQ;;oBAPhB,IAAI,YAAY,KAAK,iBAAiB;oBACtC,KAAK,qBAAqB,SAAS,CAAC;oBACpC,OAAO,KAAK,mBAAmB,qBAAqB,KAAK,KAAK,KAAK,gBAAe,SAAO,YAAM;;wBAE3F,MAAK,qBAAqB,SAAS;uBACpC,KAAK,YAAM;wBACV,MAAK,eAAe,aAAa,WAAW,YAAY,gBAAgB;;;;;eAc7E;gBACC,KAAK;gBACL,OAXgB,SAAA,qBAAC,SAAS,WAAW;oBACrC,IAAI,WAAW;wBACX,KAAK,eAAe,KAAK;2BACtB;wBACH,KAAK,eAAe,OAAO,KAAK,eAAe,QAAQ,UAAU;;;eActE;gBACC,KAAK;gBACL,OAZY,SAAA,iBAAC,SAAS;oBACtB,OAAO,KAAK,eAAe,SAAS;;;;YAgBxC,OAhDc;;;KAoCrB","file":"ovpApp/settings/stb-parentalControls/stb-contentBlock.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular.module('ovpApp.settings.stb.parentalControls.contentBlock', [\n        'ovpApp.components.ovp.ovpSwitch',\n        'ovpApp.services.stbSettingsService',\n        'ovpApp.directives.arrowNav'\n    ])\n    .component('stbContentBlock', {\n        templateUrl: '/js/ovpApp/settings/stb-parentalControls/stb-contentBlock.html',\n        bindings: {\n            'stb': '<',\n            'blockedContent': '<',\n            'contentBlock': '<'\n        },\n        controller: class StbContentBlock {\n            /* @ngInject */\n            constructor(StbSettingsService) {\n                angular.extend(this, {StbSettingsService});\n            }\n\n            $onInit() {\n                this.alertmessage = '';\n                this.blockedContent = this.blockedContent || [];\n            }\n\n            contentClicked(content) {\n                let isBlocked = this.isContentBlocked(content);\n                this.updateBlockedContent(content, !isBlocked);\n                return this.StbSettingsService.updateBlockedContent(this.stb, this.blockedContent).catch(() => {\n                    // Revert changes\n                    this.updateBlockedContent(content, isBlocked);\n                }).then(() => {\n                    this.alertmessage = 'Content ' + content + (isBlocked ? ', unblocked' : ', blocked');\n                });\n            }\n\n            /* Private method */\n            updateBlockedContent(content, isBlocked) {\n                if (isBlocked) {\n                    this.blockedContent.push(content);\n                } else {\n                    this.blockedContent.splice(this.blockedContent.indexOf(content), 1);\n                }\n            }\n\n            isContentBlocked(content) {\n                return this.blockedContent.includes(content);\n            }\n        }\n    });\n})();\n"],"sourceRoot":"/source/"}