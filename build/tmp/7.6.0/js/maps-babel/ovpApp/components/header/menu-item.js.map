{"version":3,"sources":["ovpApp/components/header/menu-item.js"],"names":[],"mappings":"AAAA;;AAAA,CAAC,YAAY;IACT;;;IAEA,QACK,OAAO,qCAAqC,CACzC,2BACA,cAEH,UAAU,YAAY;;KAEtB,WAAW,sBAAsB;;;IAGtC,SAAS,WAAW;QAChB,IAAI,YAAY;YACZ,kBAAkB;YAClB,YAAY;YACZ,cAAc;YACd,aAAa;YACb,UAAU;YACV,SAAS;YACT,OAAO;gBACH,MAAM;gBACN,SAAS;gBACT,WAAW;;;;QAInB,OAAO;;;;IAIX,SAAS,mBAAmB,QAAQ,YAAY,OAAO;QACnD,IAAI,KAAK;;QAET,GAAG,cAAc;QACjB,GAAG,cAAc;;;;;QAKjB,GAAG,WAAW;YACV,aAAA;;;QAGJ,SAAS,YAAY,QAAQ;YACzB,OAAO;YACP,OAAO;;;YAGP,WAAW,WAAW,6BAA6B,GAAG;;YAEtD,IAAI,CAAC,GAAG,KAAK,SAAS;gBAClB,IAAI,qBAAqB;gBACzB,IAAI,QAAQ,UAAU,GAAG,KAAK,cAC1B,iBAAiB,GAAG,KAAK,UAAU,yBAAyB;oBAC5D,qBAAqB;;gBAEzB,uBAAuB;mBACpB;gBACH,OAAO,GAAG,GAAG,KAAK,MAAM,GAAG,KAAK,YAAY,GAAG,KAAK;;;YAGxD,IAAI,GAAG,SAAS;gBACZ,GAAG;;;;QAIX,SAAS,YAAY,QAAQ;YACzB,IAAI,GAAG,WAAW;gBACd,GAAG,UAAU;;;;QAIrB,SAAS,yBAAgD;YAHrD,IAG4B,qBAAkB,UAAA,UAAA,KAAA,UAAA,OAAA,YAAG,KAAE,UAAA;;YACnD,MAAM,KAAK;gBACP,eAAe;gBACf,SAAS,GAAG,KAAK;gBACjB,OAAO,GAAG,KAAK;gBACf,YAAY;gBACZ,oBAAoB;;;;KAI/B","file":"ovpApp/components/header/menu-item.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('ovpApp.components.header.menuItem', [\n            'ovpApp.components.alert',\n            'ui.router'\n        ])\n        .directive('menuItem', menuItem)\n        // Exposed for unit testing\n        .controller('MenuItemController', MenuItemController);\n\n    /* @ngInject */\n    function menuItem() {\n        let directive = {\n            bindToController: true,\n            controller: MenuItemController,\n            controllerAs: 'vm',\n            templateUrl: '/js/ovpApp/components/header/menu-item.html',\n            restrict: 'E',\n            replace: true,\n            scope: {\n                item: '=',\n                onClick: '=',\n                onMouseup: '='\n            }\n        };\n\n        return directive;\n    }\n\n    /* @ngInject */\n    function MenuItemController($state, $rootScope, alert) {\n        let vm = this;\n\n        vm.itemClicked = itemClicked;\n        vm.itemMouseUp = itemMouseUp;\n\n        /////////////////\n\n        // Exposed for unit testing\n        vm._private = {\n            itemClicked\n        };\n\n        function itemClicked($event) {\n            $event.preventDefault();\n            $event.stopPropagation();\n\n            // Analytics:\n            $rootScope.$broadcast('Analytics:menu-item-click', vm.item);\n\n            if (!vm.item.enabled) {\n                let analyticsModalName = null;\n                if (angular.isDefined(vm.item.analytics) &&\n                    'videoStore' === vm.item.analytics.elementStandardizedName) {\n                    analyticsModalName = 'videoStoreUnavailable';\n                }\n                displayDisabledMessage(analyticsModalName);\n            } else {\n                $state.go(vm.item.link, vm.item.linkParams, vm.item.linkOptions);\n            }\n\n            if (vm.onClick) {\n                vm.onClick();\n            }\n        }\n\n        function itemMouseUp($event) {\n            if (vm.onMouseup) {\n                vm.onMouseup($event);\n            }\n        }\n\n        function displayDisabledMessage(analyticsModalName = '') {\n            alert.open({\n                showCloseIcon: true,\n                message: vm.item.disabledMessage(),\n                title: vm.item.disabledTitle(),\n                buttonText: 'OK',\n                analyticsModalName: analyticsModalName\n            });\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}