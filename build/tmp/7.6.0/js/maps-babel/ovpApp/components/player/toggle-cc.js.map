{"version":3,"sources":["ovpApp/components/player/toggle-cc.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEjiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAJhH,CAAC,YAAM;IACH;;IAEA,QAAQ,OAAO,yBACV,UAAU,YAAY;QACnB,aAAa;QACb,UAAU;YACN,QAAQ;;QAEZ,YAAU,CAAA,YAAA;;;;YAEK,SAFG,mBAEF,YAAY,SAAS,YAAY,aAAa;gBAO1D,gBAAgB,MATF;;gBAGV,QAAQ,OAAO,MAAM;oBACjB,YAAA;oBACA,SAAA;oBACA,YAAA;oBACA,aAAA;;;;YAYZ,aAnBkB,oBAAkB,CAAA;gBAoBhC,KAAK;gBACL,OAVO,SAAA,UAAG;oBAWN,IAAI,QAAQ;;oBAVZ,KAAK,UAAU;oBACf,KAAK,cAAc,KAAK,WAAW,QAAQ,KAAK,YAAY;;oBAE5D,KAAK,sBAAsB;wBACvB,sBAAsB,SAAA,iBAAC,KAAG;4BAatB,OAb2B,MAAK,YAAY;;;oBAEpD,KAAK;;eAgBV;gBACC,KAAK;gBACL,OAfoB,SAAA,uBAAG;oBACnB,KAAK,IAAI,OAAO,KAAK,qBAAqB;wBACtC,IAAI,KAAK,oBAAoB,eAAe,MAAM;4BAC9C,KAAK,OAAO,GAAG,KAAK,KAAK,oBAAoB;;;;eAmB1D;gBACC,KAAK;gBACL,OAhBU,SAAA,aAAG;oBACT,KAAK,IAAI,OAAO,KAAK,qBAAqB;wBACtC,IAAI,KAAK,oBAAoB,eAAe,MAAM;4BAC9C,KAAK,OAAO,IAAI,KAAK,KAAK,oBAAoB;;;;eAoB3D;gBACC,KAAK;gBACL,OAjBW,SAAA,YAAC,KAAK;oBACb,KAAK,cAAc;;eAmBxB;gBACC,KAAK;gBACL,OAlBQ,SAAA,WAAG;oBACP,KAAK,OAAO,aAAa,CAAC,KAAK;;;oBAG/B,KAAK,WAAW,MAAM,oBAAoB;wBACtC,eAAe;wBACf,aAAa,CAAC,KAAK;wBACnB,yBAAyB;wBACzB,iBAAiB;;;eAqB1B;gBACC,KAAK;gBACL,OAnBa,SAAA,gBAAG;oBACZ,IAAI,KAAK,SAAS;wBACd,OAAO,KAAK,QAAQ,aAAa;2BAC9B;wBACH,OAAO,KAAK,cAAc,KAAK,QAAQ,aACnC,0BAA0B,KAAK,QAAQ,aAAa;;;;;YAuBpE,OAjFkB;;;KA+DzB","file":"ovpApp/components/player/toggle-cc.js","sourcesContent":["(() => {\n    'use strict';\n\n    angular.module('ovpApp.playerControls')\n        .component('toggleCc', {\n            templateUrl: '/js/ovpApp/components/player/toggle-cc.html',\n            bindings: {\n                player: '<'\n            },\n            controller: class ToggleCCController {\n                /* @ngInject */\n                constructor($rootScope, version, ovpStorage, storageKeys) {\n                    angular.extend(this, {\n                        $rootScope,\n                        version,\n                        ovpStorage,\n                        storageKeys\n                    });\n                }\n\n                $onInit() {\n                    this.hovered = false;\n                    this.isCCEnabled = this.ovpStorage.getItem(this.storageKeys.ccEnabled);\n\n                    this.playerSubscriptions = {\n                        'cc-enabled-toggled': (val) => this.onCCToggled(val)\n                    };\n                    this.registerPlayerEvents();\n                }\n\n                registerPlayerEvents() {\n                    for (let key in this.playerSubscriptions) {\n                        if (this.playerSubscriptions.hasOwnProperty(key)) {\n                            this.player.on(key, this.playerSubscriptions[key]);\n                        }\n                    }\n                }\n\n                $onDestroy() {\n                    for (let key in this.playerSubscriptions) {\n                        if (this.playerSubscriptions.hasOwnProperty(key)) {\n                            this.player.off(key, this.playerSubscriptions[key]);\n                        }\n                    }\n                }\n\n                onCCToggled(val) {\n                    this.isCCEnabled = val;\n                }\n\n                ccToggle() {\n                    this.player.setCCEnabled(!this.isCCEnabled);\n\n                    // Analytics:\n                    this.$rootScope.$emit('Analytics:select', {\n                        operationType: 'closedCaptionToggle',\n                        toggleState: !this.isCCEnabled,\n                        elementStandardizedName: 'closedCaptionToggle',\n                        pageSectionName: 'DeriveFromOpType'\n                    });\n                }\n\n                ccToggleImage() {\n                    if (this.hovered) {\n                        return this.version.appVersion + '/images/cc-active.svg';\n                    } else {\n                        return this.isCCEnabled ? this.version.appVersion +\n                            '/images/cc-active.svg' : this.version.appVersion + '/images/cc.svg';\n                    }\n                }\n            }\n        });\n})();\n"],"sourceRoot":"/source/"}